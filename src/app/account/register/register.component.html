<div class="d-flex justify-content-center">
  <div class="register-page row d-flex justify-content-center">
    <div class="col-md-6 col-12">
      <h1>Sign Up</h1>
      <p>Create your account.</p>
    </div>
    <div class="col-md-6 col-12">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('firstName')) {
            <ng-container [ngSwitch]="firstName?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                First name is <strong>required</strong>
              </div>

              <div *ngSwitchCase="'minlength'">
                First name must be
                <strong>at least {{ nameMinLength }} characters long.</strong>
              </div>

              <div *ngSwitchCase="'maxlength'">
                First name must be
                <strong>maximum {{ nameMaxLength }} characters long.</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>First Name</mat-label>
            <input
              matInput
              type="text"
              required
              minlength="{{ nameMinLength }}"
              maxlength="{{ nameMaxLength }}"
              formControlName="firstName"
            />
          </mat-form-field>
        </div>

        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('lastName')) {
            <ng-container [ngSwitch]="lastName?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                Last name is <strong>required</strong>
              </div>

              <div *ngSwitchCase="'minlength'">
                Last name must be
                <strong>at least {{ nameMinLength }} characters long.</strong>
              </div>

              <div *ngSwitchCase="'maxlength'">
                Last name must be
                <strong>maximum {{ nameMaxLength }} characters long.</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Last Name</mat-label>
            <input
              matInput
              type="text"
              required
              minlength="{{ nameMinLength }}"
              maxlength="{{ nameMaxLength }}"
              formControlName="lastName"
            />
          </mat-form-field>
        </div>

        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('email')) {
            <ng-container [ngSwitch]="email?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                Email is <strong>required.</strong>
              </div>

              <div *ngSwitchCase="'email'">
                Email is <strong>invalid.</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>

          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Email</mat-label>
            <input
              matInput
              type="email"
              required
              maxlength="{{ nameMaxLength }}"
              formControlName="email"
            />
          </mat-form-field>
        </div>

        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('password')) {
            <ng-container [ngSwitch]="password?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                Password is <strong>required.</strong>
              </div>

              <div *ngSwitchCase="'minlength'">
                Password must be <strong>at least 6 characters long.</strong>
              </div>

              <div *ngSwitchCase="'maxlength'">
                Password must be maximum <strong>10 characters long.</strong>
              </div>

              <div *ngSwitchCase="'requireDigit'">
                Password must contain at least <strong>one digit.</strong>
              </div>

              <div *ngSwitchCase="'requireLowercase'">
                Password must contain at least
                <strong>one lowercase letter.</strong>
              </div>

              <div *ngSwitchCase="'requireUppercase'">
                Password must contain at least
                <strong>one uppercase letter.</strong>
              </div>

              <div *ngSwitchCase="'requireNonAlphanumeric'">
                Password must contain at least
                <strong>one non-alphanumeric character.</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>

          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Password</mat-label>
            <input
              required
              minlength="{{ passwordMinLength }}"
              matInput
              type="password"
              formControlName="password"
            />
          </mat-form-field>
        </div>

        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('confirmPassword')) {
            <ng-container [ngSwitch]="confirmPassword?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                Confirm Password is <strong>required</strong>
              </div>

              <div *ngSwitchCase="'passwordMismatch'">
                Password <strong>mismatch</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>

          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Confirm Password</mat-label>
            <input
              matInput
              type="password"
              required
              formControlName="confirmPassword"
            />
          </mat-form-field>
        </div>

        <div class="d-flex align-items-end justify-content-end mt-3 gap-3">
          <a
            [disabled]="isRequestPending"
            mat-button
            routerLink="/account/login"
            >Already have an account?</a
          >
          <button [disabled]="isRequestPending" mat-flat-button type="submit">
            Sign up
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
