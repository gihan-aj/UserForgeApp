<div class="d-flex justify-content-center">
  <div class="centered-md-container row d-flex justify-content-center">
    <div class="col-md-5 col-12">
      <h1>Sign in</h1>
      <p>
        Welcome back! <br />
        Please log in to your account.
      </p>
    </div>
    <div class="col-md-7 col-12">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('email')) {
            <ng-container [ngSwitch]="email?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                Email is <strong>required.</strong>
              </div>

              <div *ngSwitchCase="'email'">
                Email is <strong>invalid.</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>

          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Email</mat-label>
            <input
              matInput
              type="email"
              required
              maxlength="{{ emailMaxLength }}"
              formControlName="email"
            />
          </mat-form-field>
        </div>

        <div>
          <div class="error-feedback">
            @if (hasDisplayableError('password')) {
            <ng-container [ngSwitch]="password?.errors | firstKey">
              <div *ngSwitchCase="'required'">
                Password is <strong>required.</strong>
              </div>
            </ng-container>
            }@else {
            <br />
            }
          </div>

          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Password</mat-label>
            <input
              required
              matInput
              type="password"
              formControlName="password"
            />
          </mat-form-field>
        </div>

        <div class="d-flex flex-row align-items-start text-start">
          <a
            [disabled]="isRequestPending"
            mat-button
            routerLink="/account/forgot-password"
            >Forgot passsword?</a
          >
        </div>

        <div class="d-flex align-items-end justify-content-end mt-3 gap-3">
          <a
            [disabled]="isRequestPending"
            mat-button
            routerLink="/user/registration"
            >Create account</a
          >
          <button [disabled]="isRequestPending" mat-flat-button type="submit">
            Sign in
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
